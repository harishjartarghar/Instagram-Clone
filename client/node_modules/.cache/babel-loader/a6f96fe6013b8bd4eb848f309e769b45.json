{"ast":null,"code":"var _jsxFileName = \"/home/harishjartarghar/Documents/reactjs/apps/instagram-clone/client/src/components/screens/Profile.js\";\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { Redirect } from 'react-router-dom';\nimport axios from 'axios';\nimport M from 'materialize-css';\nimport { UPDATE_PROFILE } from '../../redux/actions/authActions';\nimport { MyPost } from '../../redux/actions/postActions';\n\nclass Profile extends Component {\n  constructor(...args) {\n    super(...args);\n\n    this.handleClick = e => {\n      this.refs.fileUploader.click();\n    };\n\n    this.uploadImage = e => {\n      const formData = new FormData();\n      formData.append('image', e.target.files[0]);\n      M.toast({\n        html: 'profile pic is getting updated...',\n        classes: \"green\"\n      });\n      axios.post('http://192.168.43.13:8080/api/post/image-upload', formData, {\n        headers: {\n          'content-type': 'multipart/form-data',\n          'auth-token': localStorage.getItem(\"jwt\")\n        }\n      }).then(res => {\n        this.props.UpdateProfile(res.data.imageUrl);\n        M.toast({\n          html: 'profile pic updated!',\n          classes: \"green\"\n        });\n      }).catch(error => {\n        console.log(error);\n      });\n    };\n  }\n\n  componentDidMount() {\n    this.props.MyPost();\n  }\n\n  render() {\n    console.log(this.props);\n    const {\n      auth\n    } = this.props;\n    if (!auth.token) return /*#__PURE__*/React.createElement(Redirect, {\n      to: \"/login\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 29\n      }\n    });\n    return /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        maxWidth: \"500px\",\n        margin: \"0px auto\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        margin: \"18px 0px\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        display: \"flex\",\n        justifyContent: \"space-around\",\n        marginBottom: \"30px\",\n        width: \"100%\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        marginTop: \"20px\",\n        textAlign: \"-webkit-center\",\n        width: \"115px\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      className: \"image-profile\",\n      src: this.props.auth.user.profile,\n      alt: \"harish\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 25\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      style: {\n        marginTop: \"5px\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      className: \"profile_button\",\n      onClick: this.handleClick,\n      name: \"action\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 25\n      }\n    }, \"change photo\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"file\",\n      accept: \"image/*\",\n      id: \"file\",\n      onChange: this.uploadImage,\n      ref: \"fileUploader\",\n      style: {\n        display: \"none\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 25\n      }\n    })))), /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        textAlign: \"center\",\n        margin: \"auto\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      style: {\n        fontSize: \"25px\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 17\n      }\n    }, this.props.auth.user.username), /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        display: \"flex\",\n        justifyContent: \"space-between\",\n        width: \"100%\",\n        marginTop: \"15px\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"fontsize\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 25\n      }\n    }, \"40 posts \\xA0| \\xA0\"), /*#__PURE__*/React.createElement(\"span\", {\n      className: \"fontsize\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 25\n      }\n    }, \"40 followers\\xA0| \\xA0\"), /*#__PURE__*/React.createElement(\"span\", {\n      className: \"fontsize\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 25\n      }\n    }, \"40 following\"))))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"border-line\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 14\n      }\n    }), this.props.post.mypost ? this.props.post.mypost.map(item => {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"row\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"column\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"img\", {\n        src: item.photo,\n        alt: item.caption,\n        style: {\n          width: \"100%\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 25\n        }\n      })));\n    }) : /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 16\n      }\n    }, \"loading...\"));\n  }\n\n}\n\nconst mapStatetoProps = state => {\n  return {\n    auth: state.auth,\n    mypost: state.post\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    UpdateProfile: imageUrl => {\n      dispatch(UPDATE_PROFILE(imageUrl));\n    },\n    MyPost: () => {\n      dispatch(MyPost());\n    }\n  };\n};\n\nexport default connect(mapStatetoProps, mapDispatchToProps)(Profile);","map":{"version":3,"sources":["/home/harishjartarghar/Documents/reactjs/apps/instagram-clone/client/src/components/screens/Profile.js"],"names":["React","Component","connect","Redirect","axios","M","UPDATE_PROFILE","MyPost","Profile","handleClick","e","refs","fileUploader","click","uploadImage","formData","FormData","append","target","files","toast","html","classes","post","headers","localStorage","getItem","then","res","props","UpdateProfile","data","imageUrl","catch","error","console","log","componentDidMount","render","auth","token","maxWidth","margin","display","justifyContent","marginBottom","width","marginTop","textAlign","user","profile","fontSize","username","mypost","map","item","photo","caption","mapStatetoProps","state","mapDispatchToProps","dispatch"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,SAASC,QAAT,QAAyB,kBAAzB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,CAAP,MAAc,iBAAd;AACA,SAASC,cAAT,QAA+B,iCAA/B;AACA,SAASC,MAAT,QAAuB,iCAAvB;;AAEA,MAAMC,OAAN,SAAsBP,SAAtB,CAAgC;AAAA;AAAA;;AAAA,SAE5BQ,WAF4B,GAEfC,CAAD,IAAM;AACd,WAAKC,IAAL,CAAUC,YAAV,CAAuBC,KAAvB;AACH,KAJ2B;;AAAA,SAM5BC,WAN4B,GAMfJ,CAAD,IAAK;AACb,YAAMK,QAAQ,GAAG,IAAIC,QAAJ,EAAjB;AACAD,MAAAA,QAAQ,CAACE,MAAT,CAAgB,OAAhB,EAAwBP,CAAC,CAACQ,MAAF,CAASC,KAAT,CAAe,CAAf,CAAxB;AACAd,MAAAA,CAAC,CAACe,KAAF,CAAQ;AAACC,QAAAA,IAAI,EAAC,mCAAN;AAA0CC,QAAAA,OAAO,EAAC;AAAlD,OAAR;AACHlB,MAAAA,KAAK,CAACmB,IAAN,CAAW,iDAAX,EAA6DR,QAA7D,EAAsE;AAACS,QAAAA,OAAO,EAAC;AAAC,0BAAgB,qBAAjB;AAAuC,wBAAaC,YAAY,CAACC,OAAb,CAAqB,KAArB;AAApD;AAAT,OAAtE,EACIC,IADJ,CACSC,GAAG,IAAE;AAEP,aAAKC,KAAL,CAAWC,aAAX,CAAyBF,GAAG,CAACG,IAAJ,CAASC,QAAlC;AACA3B,QAAAA,CAAC,CAACe,KAAF,CAAQ;AAACC,UAAAA,IAAI,EAAC,sBAAN;AAA6BC,UAAAA,OAAO,EAAC;AAArC,SAAR;AAGP,OAPA,EAQAW,KARA,CAQMC,KAAK,IAAE;AACVC,QAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ;AAEH,OAXA;AAYA,KAtB2B;AAAA;;AAwBhCG,EAAAA,iBAAiB,GAAE;AACf,SAAKR,KAAL,CAAWtB,MAAX;AACH;;AAGG+B,EAAAA,MAAM,GAAG;AACLH,IAAAA,OAAO,CAACC,GAAR,CAAY,KAAKP,KAAjB;AACH,UAAM;AAACU,MAAAA;AAAD,QAAO,KAAKV,KAAlB;AACA,QAAG,CAACU,IAAI,CAACC,KAAT,EAAgB,oBAAO,oBAAC,QAAD;AAAU,MAAA,EAAE,EAAC,QAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAAP;AACb,wBACI;AAAK,MAAA,KAAK,EAAE;AAACC,QAAAA,QAAQ,EAAC,OAAV;AAAkBC,QAAAA,MAAM,EAAC;AAAzB,OAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACA;AAAK,MAAA,KAAK,EAAE;AACTA,QAAAA,MAAM,EAAC;AADE,OAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAMA;AAAK,MAAA,KAAK,EAAE;AACRC,QAAAA,OAAO,EAAC,MADA;AAERC,QAAAA,cAAc,EAAC,cAFP;AAGRC,QAAAA,YAAY,EAAC,MAHL;AAITC,QAAAA,KAAK,EAAC;AAJG,OAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAMI;AAAK,MAAA,KAAK,EAAE;AAACC,QAAAA,SAAS,EAAC,MAAX;AAAkBC,QAAAA,SAAS,EAAC,gBAA5B;AAA6CF,QAAAA,KAAK,EAAC;AAAnD,OAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAK,MAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAEI;AAAK,MAAA,SAAS,EAAC,eAAf;AACJ,MAAA,GAAG,EAAE,KAAKjB,KAAL,CAAWU,IAAX,CAAgBU,IAAhB,CAAqBC,OADtB;AAC+B,MAAA,GAAG,EAAC,QADnC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFJ,eAOI;AAAK,MAAA,SAAS,EAAC,KAAf;AAAqB,MAAA,KAAK,EAAE;AAACH,QAAAA,SAAS,EAAC;AAAX,OAA5B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACA;AAAQ,MAAA,SAAS,EAAC,gBAAlB;AAAmC,MAAA,OAAO,EAAG,KAAKtC,WAAlD;AAA+D,MAAA,IAAI,EAAC,QAApE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBADA,eAEA;AAAO,MAAA,IAAI,EAAC,MAAZ;AAAmB,MAAA,MAAM,EAAC,SAA1B;AAAoC,MAAA,EAAE,EAAC,MAAvC;AAA8C,MAAA,QAAQ,EAAE,KAAKK,WAA7D;AAA0E,MAAA,GAAG,EAAC,cAA9E;AAA6F,MAAA,KAAK,EAAE;AAAC6B,QAAAA,OAAO,EAAE;AAAV,OAApG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFA,CAPJ,CADJ,CANJ,eAoBI;AAAK,MAAA,KAAK,EAAE;AAACK,QAAAA,SAAS,EAAC,QAAX;AAAoBN,QAAAA,MAAM,EAAE;AAA5B,OAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACA;AAAM,MAAA,KAAK,EAAE;AAACS,QAAAA,QAAQ,EAAC;AAAV,OAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAiC,KAAKtB,KAAL,CAAWU,IAAX,CAAgBU,IAAhB,CAAqBG,QAAtD,CADA,eAEI;AAAK,MAAA,KAAK,EAAE;AAACT,QAAAA,OAAO,EAAC,MAAT;AAAgBC,QAAAA,cAAc,EAAC,eAA/B;AAA+CE,QAAAA,KAAK,EAAC,MAArD;AAA4DC,QAAAA,SAAS,EAAE;AAAvE,OAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAM,MAAA,SAAS,EAAC,UAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,6BADJ,eAEI;AAAM,MAAA,SAAS,EAAC,UAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gCAFJ,eAGI;AAAM,MAAA,SAAS,EAAC,UAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAHJ,CAFJ,CApBJ,CANA,CADA,eAsCC;AAAK,MAAA,SAAS,EAAC,aAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAtCD,EAyCC,KAAKlB,KAAL,CAAWN,IAAX,CAAgB8B,MAAhB,GAAuB,KAAKxB,KAAL,CAAWN,IAAX,CAAgB8B,MAAhB,CAAuBC,GAAvB,CAA4BC,IAAD,IAAQ;AACxD,0BACC;AAAK,QAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACI;AAAK,QAAA,SAAS,EAAC,QAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACI;AAAK,QAAA,GAAG,EAAEA,IAAI,CAACC,KAAf;AAAsB,QAAA,GAAG,EAAED,IAAI,CAACE,OAAhC;AAAyC,QAAA,KAAK,EAAE;AAACX,UAAAA,KAAK,EAAC;AAAP,SAAhD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADJ,CADJ,CADD;AAOF,KARuB,CAAvB,gBAQE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAjDH,CADJ;AAuDH;;AAxF2B;;AA2FhC,MAAMY,eAAe,GAAEC,KAAD,IAAS;AAC3B,SAAM;AACJpB,IAAAA,IAAI,EAACoB,KAAK,CAACpB,IADP;AAEJc,IAAAA,MAAM,EAACM,KAAK,CAACpC;AAFT,GAAN;AAIH,CALD;;AAOA,MAAMqC,kBAAkB,GAAEC,QAAD,IAAY;AACjC,SAAM;AACF/B,IAAAA,aAAa,EAAEE,QAAD,IAAY;AAAC6B,MAAAA,QAAQ,CAACvD,cAAc,CAAC0B,QAAD,CAAf,CAAR;AAAmC,KAD5D;AAEFzB,IAAAA,MAAM,EAAC,MAAI;AAACsD,MAAAA,QAAQ,CAACtD,MAAM,EAAP,CAAR;AAAmB;AAF7B,GAAN;AAIH,CALD;;AAOA,eAAeL,OAAO,CAACwD,eAAD,EAAiBE,kBAAjB,CAAP,CAA4CpD,OAA5C,CAAf","sourcesContent":["import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { Redirect } from 'react-router-dom';\nimport axios from 'axios';\nimport M from 'materialize-css';\nimport { UPDATE_PROFILE } from '../../redux/actions/authActions';\nimport { MyPost } from '../../redux/actions/postActions';\n\nclass Profile extends Component {\n\n    handleClick=(e)=> {\n        this.refs.fileUploader.click();\n    }\n\n    uploadImage=(e)=>{\n        const formData = new FormData();\n        formData.append('image',e.target.files[0]);\n        M.toast({html:'profile pic is getting updated...',classes:\"green\"});\n     axios.post('http://192.168.43.13:8080/api/post/image-upload',formData,{headers:{'content-type': 'multipart/form-data','auth-token':localStorage.getItem(\"jwt\")}})\n        .then(res=>{\n           \n            this.props.UpdateProfile(res.data.imageUrl);\n            M.toast({html:'profile pic updated!',classes:\"green\"});\n            \n            \n    })\n    .catch(error=>{\n        console.log(error);\n       \n    });\n    }\n\ncomponentDidMount(){\n    this.props.MyPost();\n}\n\n\n    render() {\n        console.log(this.props);\n     const {auth}=this.props;\n     if(!auth.token) return <Redirect to=\"/login\"/>\n        return (\n            <div style={{maxWidth:\"500px\",margin:\"0px auto\"}}>\n            <div style={{\n               margin:\"18px 0px\",\n                \n            }}>\n \n          \n            <div style={{\n                display:\"flex\",\n                justifyContent:\"space-around\",\n                marginBottom:\"30px\",\n               width:\"100%\"\n            }}>\n                <div style={{marginTop:\"20px\",textAlign:\"-webkit-center\",width:\"115px\"}}>\n                    <div className=\"row\">\n                        \n                        <img className=\"image-profile\"\n                    src={this.props.auth.user.profile} alt=\"harish\"\n                    />\n                   \n                        \n                        <div className=\"row\" style={{marginTop:\"5px\"}}>\n                        <button className=\"profile_button\" onClick ={this.handleClick} name=\"action\">change photo</button>\n                        <input type=\"file\" accept=\"image/*\" id=\"file\" onChange={this.uploadImage} ref=\"fileUploader\" style={{display: \"none\"}}/>\n                        </div>\n                    </div>\n                </div>\n                <div style={{textAlign:\"center\",margin: \"auto\"}}>\n                <span style={{fontSize:\"25px\"}}>{this.props.auth.user.username}</span>\n                    <div style={{display:\"flex\",justifyContent:\"space-between\",width:\"100%\",marginTop: \"15px\"}}>\n                        <span className=\"fontsize\">40 posts &nbsp;| &nbsp;</span>\n                        <span className=\"fontsize\">40 followers&nbsp;| &nbsp;</span>\n                        <span className=\"fontsize\">40 following</span>\n                    </div>\n \n                </div>\n            </div>\n             </div>    \n             <div className=\"border-line\">\n             </div>  \n                \n            {this.props.post.mypost?this.props.post.mypost.map((item)=>{\n               return (\n                <div className=\"row\">\n                    <div className=\"column\">\n                        <img src={item.photo} alt={item.caption} style={{width:\"100%\"}}/>\n                </div>\n            </div>\n               );\n            }):<p>loading...</p>}\n            \n          \n        </div>\n        );\n    }\n}\n\nconst mapStatetoProps=(state)=>{\n    return{\n      auth:state.auth,\n      mypost:state.post\n    }\n}\n\nconst mapDispatchToProps=(dispatch)=>{\n    return{\n        UpdateProfile:(imageUrl)=>{dispatch(UPDATE_PROFILE(imageUrl))},\n        MyPost:()=>{dispatch(MyPost())}\n    }\n}\n\nexport default connect(mapStatetoProps,mapDispatchToProps)(Profile);\n"]},"metadata":{},"sourceType":"module"}